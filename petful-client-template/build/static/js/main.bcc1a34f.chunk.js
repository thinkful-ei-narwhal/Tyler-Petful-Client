(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{22:function(e,t,a){e.exports=a(33)},23:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);a(23);var n=a(1),r=a(3),l=a(5),o=a(4),c=a(6),s=a(0),i=a.n(s),u=a(12),d=a(10),p=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(s.Fragment,null,i.a.createElement("h1",null,"Petful"),i.a.createElement("h2",null,"Creating Happy Pet Families since 2020"),i.a.createElement("img",{className:"adoptImg",alt:"adoption logo",src:"https://www.humanesocietymiami.org/wp-content/uploads/2020/04/Adopt-a-shelter-pet-today_dog-2000px.jpg"}),i.a.createElement("p",null,"Adopt of a furry friend on a first-come, first-serve basis! "),i.a.createElement("p",null," Enter your name, and when it is your turn, you may adopt."),i.a.createElement("p",null," We hope to find all our friends a home!"),i.a.createElement("h3",null,"Adopt Here!"),i.a.createElement(u.b,{className:"Enter",to:"/adopt"},"Enter"))}}]),t}(s.Component),m=i.a.createContext(),h=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.context,t=e.waiting,a=e.cats,n=e.handleAdoptAnimal,r=e.handleAdopted,l=e.adopted,o=a.first?a.first.data:{};return i.a.createElement("div",{className:"cat-container"},i.a.createElement("h3",null,"Cat"),i.a.createElement("img",{className:"picture",alt:"cute cat",src:"".concat(o.imageURL)}),i.a.createElement("p",null,"Name: ","".concat(o.name)),i.a.createElement("p",null,"Description: ","".concat(o.description)),i.a.createElement("p",null,"Gender: ","".concat(o.gender)),i.a.createElement("p",null,"Age: ","".concat(o.age)),i.a.createElement("p",null,"Breed: ","".concat(o.breed)),i.a.createElement("p",null,"".concat(o.name),"'s Story: ","".concat(o.story)),i.a.createElement("button",{disabled:t||l,onClick:function(e){e.preventDefault(),n("cat"),r()}},"Adopt Me!"))}}]),t}(s.Component);h.contextType=m;var f=h,v=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.context,t=e.waiting,a=e.dogs,n=e.handleAdoptAnimal,r=e.handleAdopted,l=e.adopted,o=a.first?a.first.data:{};return i.a.createElement("div",{className:"dog-container"},i.a.createElement("h3",null,"Dog"),i.a.createElement("img",{className:"picture",alt:"cute dog",src:"".concat(o.imageURL)}),i.a.createElement("p",null,"Name: ","".concat(o.name)),i.a.createElement("p",null,"Description: ","".concat(o.description)),i.a.createElement("p",null,"Gender: ","".concat(o.gender)),i.a.createElement("p",null,"Age: ","".concat(o.age)),i.a.createElement("p",null,"Breed: ","".concat(o.breed)),i.a.createElement("p",null,"".concat(o.name),"'s Story: ","".concat(o.story)),i.a.createElement("button",{disabled:t||l,onClick:function(e){e.preventDefault(),n("dog"),r()}},"Adopt Me!"))}}]),t}(s.Component);v.contextType=m;var g=v;function E(e){return e.message?i.a.createElement("div",null,i.a.createElement("span",{className:"error red"},e.message)):i.a.createElement(i.a.Fragment,null)}var b=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.context,t=e.name,a=e.setName,n=e.handleUpdatePeople,r=e.validateName,l=r();return i.a.createElement("form",null,t.touched&&i.a.createElement(E,{message:l}),i.a.createElement("label",{htmlFor:"name"},"Name:"),i.a.createElement("input",{type:"text",name:"name",id:"name",value:t.value,onChange:function(e){return a(e.target.value)}}),i.a.createElement("button",{type:"submit",disabled:r(),onClick:function(e){e.preventDefault(),n(t.value),t.value="",t.touched=!1}},"Submit"))}}]),t}(s.Component);b.contextType=m;var y=b,j=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.context.peoplePush,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.context.people;return i.a.createElement("div",null,i.a.createElement("p",null,"Thanks For Choosing to Adopt Today!"),i.a.createElement("p",null,"Serving Next: ","".concat(e.all())))}}]),t}(s.Component);j.contextType=m;var O=j,P=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.context,t=e.waiting,a=e.submitted,n=e.adopted,r=e.animalAdopted;return i.a.createElement(s.Fragment,null,i.a.createElement("h1",null,"Petful - Adopt!"),i.a.createElement("h2",null,"Creating Happy Pet Families since 2020"),i.a.createElement("p",null,"Enter your name to get started. When it's your turn, you may adopt!"),i.a.createElement(y,null),a&&t||n?i.a.createElement(O,null):null,t||n?null:i.a.createElement("p",null,"It's your turn! You can now adopt!"),n?i.a.createElement("p",null,"Thank you for adopting ",r,"!"):null,i.a.createElement("div",{className:"pet-container"},i.a.createElement(f,null),i.a.createElement(g,null)))}}]),t}(s.Component);P.contextType=m;var w=P,x=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={error:null},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.state.error?i.a.createElement("main",{className:"error-page"},i.a.createElement("h1",null,this.state.error),i.a.createElement("h1",null,"Oops!"),i.a.createElement("p",null,"Something went wrong. Try refreshing the page or returning to home."),i.a.createElement(u.b,{to:"/"},i.a.createElement("i",{className:"fas fa-home"})," Home")):this.props.children}}],[{key:"getDerivedStateFormError",value:function(e){return e}}]),t}(s.Component),A="https://tyler-sharp-petful-server.herokuapp.com/api",N={getPets:function(){var e;return fetch("".concat(A,"/pets"),{method:"GET",headers:{}}).then((function(t){return t.ok||(e={code:t.status}),t.json()})).then((function(t){return e?(e.message=t.message,Promise.reject(e)):t}))},deletePet:function(e){return fetch("".concat(A,"/pets/").concat(e),{method:"DELETE",headers:{}}).then((function(e){return e}))}},k={getPeople:function(){var e;return fetch("".concat(A,"/people"),{method:"GET",headers:{}}).then((function(t){return t.ok||(e={code:t.status}),t.json()})).then((function(t){return e?(e.message=t.message,Promise.reject(e)):t}))},postPerson:function(e){return fetch("".concat(A,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},deletePerson:function(){return fetch("".concat(A,"/people"),{method:"DELETE",headers:{}}).then((function(e){return e}))}},S=function e(t,a,r){Object(n.a)(this,e),this.data=t,this.next=a,this.previous=r},q=function(){function e(){Object(n.a)(this,e),this.first=null,this.last=null}return Object(r.a)(e,[{key:"enqueue",value:function(e){var t=new S(e,null);null===this.first&&(this.first=t),this.last&&(this.last.next=t),this.last=t}},{key:"dequeue",value:function(){if(null!==this.first){var e=this.first;return this.first=this.first.next,e===this.last&&(this.last=null),e.data}}},{key:"show",value:function(){return this.first}},{key:"all",value:function(){for(var e=this.first,t=[];e;)t.push(e.data),e=e.next;return t.join(", ")}}]),e}(),C=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={cats:new q,dogs:new q,people:new q,animalAdopted:"",submitted:!1,waiting:!0,adopted:!1,savedName:"",na:{value:"",touched:!1}},a.setName=function(e){a.setState({na:{value:e,touched:!0}})},a.validateName=function(){if(!a.state.na.value)return"name is required"},a.handleUpdatePeople=function(e){k.postPerson(e).then((function(e){var t=e.first,n=new q;n.enqueue(t.data);for(var r=t.next;r;)n.enqueue(r.data),r=r.next;a.setState({people:n})})),a.setState({waiting:!0,submitted:!0,savedName:e})},a.addPeople=function(e){k.postPerson(e).then((function(e){var t=e.first,n=new q;n.enqueue(t.data);for(var r=t.next;r;)n.enqueue(r.data),r=r.next;a.setState({people:n})}))},a.handleWaiting=function(){a.setState({waiting:!1}),a.setState({savedName:""})},a.handleAdopted=function(){a.setState({adopted:!0})},a.peoplePush=function(){a.state.people.first.data!==a.state.savedName?a.handleDeletePerson():a.handleWaiting()},a.handleDeletePerson=function(){k.deletePerson();var e=a.state.people.show();e=e.data,a.state.people.enqueue(a.state.people.dequeue());var t=a.state.people;if(a.setState({people:t}),1===Math.floor(2*Math.random())+1){N.deletePet("cat"),a.state.cats.enqueue(a.state.cats.dequeue());var n=a.state.cats;a.setState({cats:n})}else{N.deletePet("dog"),a.state.dogs.enqueue(a.state.dogs.dequeue());var r=a.state.dogs;a.setState({dogs:r})}e!==a.state.savedName&&a.addPeople(e)},a.handleAdoptAnimal=function(e){if("cat"===e){N.deletePet("cat");var t=a.state.cats.show();t=t.data.name,a.setState({animalAdopted:t}),a.state.cats.dequeue();var n=a.state.cats;a.setState({cats:n})}else{N.deletePet("dog"),a.state.dogs.dequeue();var r=a.state.dogs;a.setState({dogs:r})}},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.getPets().then((function(t){var a=t.cats.first,n=new q;n.enqueue(a.data);for(var r=a.next;r;)n.enqueue(r.data),r=r.next;e.setState({cats:n});var l=t.dogs.first,o=new q;o.enqueue(l.data);for(var c=l.next;c;)o.enqueue(c.data),c=c.next;e.setState({dogs:o})})),k.getPeople().then((function(t){if(t.first){var a=t.first,n=new q;n.enqueue(a.data);for(var r=a.next;r;)n.enqueue(r.data),r=r.next;e.setState({people:n,na:{value:"",touched:!1}})}else{var l=new q;e.setState({people:l,na:{value:"",touched:!1}})}}))}},{key:"render",value:function(){return i.a.createElement(m.Provider,{value:{cats:this.state.cats,dogs:this.state.dogs,people:this.state.people,name:this.state.na,submitted:this.state.submitted,waiting:this.state.waiting,savedName:this.state.savedName,adopted:this.state.adopted,animalAdopted:this.state.animalAdopted,validateName:this.validateName,setName:this.setName,handleUpdatePeople:this.handleUpdatePeople,peoplePush:this.peoplePush,handleWaiting:this.handleWaiting,handleAdoptAnimal:this.handleAdoptAnimal,handleDeletePerson:this.handleDeletePerson,handleAdopted:this.handleAdopted,addPeople:this.addPeople}},i.a.createElement(s.Fragment,null,i.a.createElement("main",null,i.a.createElement(u.a,null,i.a.createElement(x,null,i.a.createElement(d.c,null,i.a.createElement(d.a,{exact:!0,path:"/",component:p}),i.a.createElement(d.a,{exact:!0,path:"/adopt",component:w})))))))}}]),t}(s.Component),D=a(21);a.n(D).a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(C,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.bcc1a34f.chunk.js.map